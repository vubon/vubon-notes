<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=192x192 href=/android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=keywords content="Vubon,Vubon Roy,Vubon Notes,Engineering,Blog,Tutorials,Technology,Coding,Python,DevOps,Hugo,GitHub Pages"><meta name=description content><title>Python: Symbol is better than function call | Vubon Notes
</title><link rel=canonical href=https://vubon.me/posts/python-symbol-is-better-than-function-call/><meta property="og:url" content="https://vubon.me/posts/python-symbol-is-better-than-function-call/"><meta property="og:site_name" content="Vubon Notes"><meta property="og:title" content="Python: Symbol is better than function call"><meta property="og:description" content='Benchmarking Function Calls vs. Symbols # [The time difference is from my Core-i3 machine; it may vary on yours.]
# Example 1 from timeit import timeit print(timeit("my_tuple = tuple([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])")) print(timeit("my_tuple = ([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])")) # Output # 0.3789963669996723 # 0.1345829190004224 # Example 2 print(timeit("my_set = set([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])")) print(timeit("my_set = {*[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]}") ) # Output # 0.6751592210002855 # 0.547103707000133 copy You will see a probably trivial difference—but a difference is still a difference. Think about huge datasets; the cost adds up.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-15T21:24:56+00:00"><meta property="article:modified_time" content="2021-12-14T00:46:16+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Person","name":"Vubon Roy","url":"https://vubon.me/","sameAs":["https://github.com/vubon","mailto:vubon.roy@gmail.com"],"description":"Vubon Notes is the personal blog of Vubon Roy, sharing engineering notes, tutorials, and experiments in technology, coding, Python, DevOps, Hugo, and more."}</script><link rel=stylesheet href=/assets/combined.min.329ddbca468aad36d8c3e211b202549594b5e9189d75140a974b8aa996a172de.css media=all></head><body class=auto><div class=content><header><div class=header><h1 class=header-title><a href=https://vubon.me/>Vubon Notes</a>
<span class=header-social><a href=https://github.com/vubon target=_blank rel="noopener noreferrer" title=github><svg width="20" height="20" viewBox="0 0 24 24" fill="currentcolor"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
</a><a href=mailto:vubon.roy@gmail.com target=_blank rel="noopener noreferrer" title=email><svg width="20" height="20" viewBox="0 0 24 24" fill="currentcolor"><path d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg></a></span></h1><div class=header-menu><p class=small><a href=/>/home</a></p><p class=small><a href=/posts/>/blog</a></p></div></div><style>.header-social{display:inline-flex;gap:10px;margin-left:15px;vertical-align:middle}.header-social a{display:inline-flex;align-items:center;opacity:.7;transition:opacity .2s}.header-social a:hover{opacity:1}.header-social svg{vertical-align:middle}</style></header><main class=main><div><article><header class=single-intro-container><h1 class=single-title>Python: Symbol is better than function call</h1><div class=single-subsummary><div><p class=single-date><time datetime=2019-09-15T21:24:56+00:00>September 15, 2019</time></p></div></div></header><div class=single-content><h2 class=heading id=benchmarking-function-calls-vs-symbols>Benchmarking Function Calls vs. Symbols
<a class=anchor href=#benchmarking-function-calls-vs-symbols>#</a></h2><p>[The time difference is from my Core-i3 machine; it may vary on yours.]</p><p><figure><div class=img-container><img loading=lazy alt="Function vs symbol benchmark" src=/images/function_vs_symbol.png></div></figure></p><div class=code-block><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Example 1</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>timeit</span> <span class=kn>import</span> <span class=n>timeit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;my_tuple = tuple([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;my_tuple = ([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># 0.3789963669996723</span>
</span></span><span class=line><span class=cl><span class=c1># 0.1345829190004224</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Example 2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;my_set = set([1, 2, 3, 4, 5, 6, 7, 8, 9, 0])&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>timeit</span><span class=p>(</span><span class=s2>&#34;my_set = {*[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]}&#34;</span><span class=p>)</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Output</span>
</span></span><span class=line><span class=cl><span class=c1># 0.6751592210002855</span>
</span></span><span class=line><span class=cl><span class=c1># 0.547103707000133</span></span></span></code></pre></div><button class=copy-code-button>copy</button></div><p>You will see a probably trivial difference—but a difference is still a difference. Think about huge datasets; the cost adds up.</p><p><strong>What is Python actually doing?</strong></p><ol><li>Look up the function in memory.</li><li>Initialize and manage a frame for the function.</li><li>Store all local variables.</li><li>Store activation records (call frames) on the runtime stack.</li><li>Push the frame to the top of the stack when it’s called.</li></ol><p>That’s a lot of work for <code>set()</code> and <code>tuple()</code>. With literal syntax, Python just loads constants (constant folding) and skips much of that overhead.</p><p>In the set example, I used <code>*</code> unpacking to turn a list into a set literal; otherwise you can’t directly convert a list to a set literal.</p><p>I hope the purpose of this article is clear. If it is, great—see you in the next one.</p></div></article><div class=single-pagination><hr><div class=flexnowrap><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>←</div><div class=single-pagination-text><a href=/posts/python-property/>Hmm Python @Property</a></div></div></div><div class=single-pagination-next><div class=single-pagination-container-next><div class=single-pagination-text><a href=/posts/how-to-work-a-card-network-payment/>How To Work A Card Network - Payment</a></div><div class=single-pagination-text>→</div></div></div></div><hr></div><div class=back-to-top><a href=#top>back to top</a></div></div></main></div><footer><p>Powered by
<a href=https://gohugo.io/>Hugo</a>
and
<a href=https://github.com/tomfran/typo>tomfran/typo</a></p></footer></body><script src=/js/theme-switch.js></script><script defer src=/js/copy-code.js></script></html>